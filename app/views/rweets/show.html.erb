<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/axentix@2.0.1/dist/axentix.min.css">
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined" rel="stylesheet"/>


<%#= render @rweet %>

<!--<div>-->
<!--   <%##= link_to "Edit this rweet", edit_rweet_path(@rweet) %> |-->
  <%#= link_to "Back to rweets", rweets_path %>

<!--  <p><%#= @rweet.likes.count %> <%#= (@rweet.likes.count) <= 1 ? 'Like' : 'Likes' %></p>-->

  <%# pre_like = @rweet.likes.find { |like| like.user_id == current_user.id } %>
  <%# if pre_like %>
    <%#= button_to 'Unlike', rweet_like_path(@rweet, pre_like), method: :delete %>
  <%# else %>
    <%#= button_to 'Like', rweet_likes_path(@rweet), method: :post %>
  <%# end %>

  <%# if current_user == @rweet.user %>
    <%#= button_to "Destroy this rweet", @rweet, method: :delete %>
  <%# end %>

<!--  <div>-->
<!--    <div>-->
<!--      <p>Comments</p>-->
      <%#= form_with(model: [@rweet, @rweet.comments.build]) do |f| %>
<!--        <div>-->
          <%#= f.label 'New comment' %>
          <%#= f.text_area :body, class: 'form-control' %>
<!--        </div>-->
        <%#= f.submit 'Submit', class: 'btn btn-primary' %>
      <%# end %>
<!--    </div>-->
<!--  </div>-->

  <%#= render @rweet.comments %>

<!--</div>-->



<!-- beginning of sidebar -->

<div class="sidebar">
  <div class="sidebarOption active">
    <span class="material-symbols-outlined"> home </span>
    <h2><%= link_to "Home", rweets_path %></h2>

  </div>

  <div class="sidebarOption active">
    <span class="material-symbols-outlined"> search </span>
    <h2>Explore</h2>
  </div>

  <div class="sidebarOption active">
    <span class="material-symbols-outlined"> notifications_none </span>
    <h2>Notification</h2>
  </div>

  <div class="sidebarOption active">
    <span class="material-symbols-outlined"> mail_outline </span>
    <h2>Messages</h2>
  </div>

  <div class="sidebarOption active">
    <span class="material-symbols-outlined"> bookmark_border </span>
    <h2>Bookmarks</h2>
  </div>

  <div class="sidebarOption active">
    <span class="material-symbols-outlined"> list_alt </span>
    <h2>Lists</h2>
  </div>

  <div class="sidebarOption active">
    <span class="material-symbols-outlined"> perm_identity </span>
    <h2>Profile</h2>
  </div>

  <div class="sidebarOption active">
    <span class="material-symbols-outlined"> more_horiz </span>
    <h2>More</h2>
  </div>


  <%= button_to "Rweet", new_rweet_path, :class => "sidebar-rweet" %>

  <!--  <button class="sidebar-rweet">Rweet</button>-->
</div>

<!-- end of sidebar -->
<div style="width: 60%">

<%= render @rweet %>
  <!--  <%#= link_to "Edit this rweet", edit_rweet_path(@rweet) %> |-->
  <%= link_to "Back to rweets", rweets_path %>

  <p><%= @rweet.likes.count %> <%= (@rweet.likes.count) <= 1 ? 'Like' : 'Likes' %></p>

  <% pre_like = @rweet.likes.find { |like| like.user_id == current_user.id } %>
  <% if pre_like %>
    <%= button_to 'Unlike', rweet_like_path(@rweet, pre_like), method: :delete %>
  <% else %>
    <%= button_to 'Like', rweet_likes_path(@rweet), method: :post %>
  <% end %>

  <% if current_user == @rweet.user %>
    <%= button_to "Destroy this rweet", @rweet, method: :delete %>
  <% end %>

  <div>
    <div>
      <p>Comments</p>
      <%= form_with(model: [@rweet, @rweet.comments.build]) do |f| %>
        <div>
          <%= f.label 'New comment' %>
          <%= f.text_area :body, class: 'form-control rounded-1' %>
        </div>
        <%= f.submit 'Comment', class: 'rweet-box--rweet-button' %>
        <p style="color: green"><%= notice %></p>
    <% end %>
    </div>
  </div>

  <%= render @rweet.comments %>
</div>
